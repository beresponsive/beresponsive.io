%section#overview.overview
  .container-full
    .section.row.nomargin
      .desktop-full.tablet-full.mobile-full
        %h1.section-title Overview.

    .section.row.nomargin
      .col.twelve.tablet-full.mobile-full
        %p We have a great first meetup planned for you with three speakers, free drinks and a mixed crowd to mingle with. Introduction to Responsive Web is for people of all sectors and backgrounds from business analyst to designer, developer to project manager  - our meetups are inclusive and not focused only on the technical side.
    .fluid-padding
    




/ End 3d Gallery Section
/ Footer

/ End Footer
%script{:src => "http://maps.google.se/maps/api/js?sensor=false"}
:javascript
  var directionsDisplay;
  var directionsService = new google.maps.DirectionsService();
  var marker;
  var map;
  // Your Destination Here
  var destinationName = 'London';
  // Custom Markers
     var icons = {
                  start: new google.maps.MarkerImage(
                   // URL
                   'images/a.png',
                   // (width,height)
                   new google.maps.Size(30,30),
                   // The origin point (x,y)
                   new google.maps.Point(0,0),
                   // The anchor point (x,y)
                   new google.maps.Point(20,30)
                  ),
                  end: new google.maps.MarkerImage(
                   // URL
                   'images/b.png',
                   // (width,height)
                   new google.maps.Size( 30, 30 ),
                   // The origin point (x,y)
                   new google.maps.Point( 0, 0 ),
                   // The anchor point (x,y)
                   new google.maps.Point(10,0)
                  )
                 };
  
  function initialize() {
    directionsDisplay = new google.maps.DirectionsRenderer();
    var mapOptions = {
        zoom: 14,
        scrollwheel: false,
        draggable: true,
        center: true,
          center: new google.maps.LatLng($("#map").data("lat"), $("#map").data("long")),
          mapTypeId: google.maps.MapTypeId.ROADMAP
        };
  
        map = new google.maps.Map(document.getElementById('map'), mapOptions);
  
        // Estilos del mapa
         var styles = [
                {
                  "stylers": [
                    { "saturation": -100 },
                  ]
                }
              ];
    
         map.setOptions({styles: styles});
  
      
          var PolylineOptions = {
            strokeColor: '#e31937', // Route Stroke Color 
            strokeOpacity: .8, 
            strokeWeight: 3,
            suppressMarkers: true,
         }
  
         // Create a renderer for directions and bind it to the map.
         var rendererOptions = {
          map: map,
          polylineOptions: PolylineOptions,
          draggable: true,
          suppressMarkers: true,
           }
         directionsDisplay = new google.maps.DirectionsRenderer(rendererOptions);
  
        marker = new google.maps.Marker({
          map:map,
          animation: google.maps.Animation.DROP,
          position: new google.maps.LatLng($("#map").data("lat"), $("#map").data("long")),
        });
      google.maps.event.addListener(marker, 'click', toggleBounce);
      directionsDisplay.setMap(map);
  
  }
  
  function calcRoute() {
    
      var selectedMode = document.getElementById('mode').value;
      
      if(navigator.geolocation) {
      
      navigator.geolocation.getCurrentPosition(function(position) {
        
        var visitante = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
        
        // Retrieve the start and end locations and create
        // a DirectionsRequest using DRIVING directions.
        
        var start = visitante;
        var end = destinationName;
        var request = {
                  origin: start,
                  destination: end,
                  //travelMode: google.maps.DirectionsTravelMode.DRIVING
                  travelMode: google.maps.TravelMode[selectedMode]
        };
        
        directionsService.route(request, function(response, status) {
        
          if (status == google.maps.DirectionsStatus.OK) {        
            directionsDisplay.setDirections(response);       
            var leg = response.routes[ 0 ].legs[ 0 ];
             var distancetext = leg.distance.text;
              var start_point = leg.start_location;
              jQuery('#distance').html(distancetext);
              jQuery('#you_are').html('you are at');
  
               makeMarker( leg.start_location, icons.start, "start" );
               makeMarker( leg.end_location, icons.end, 'end' );
          }
  
           function makeMarker( position, icon, title ) {
                 new google.maps.Marker({
                  position: position,
                  map: map,
                  icon: icon,
                  title: title,
                  optimized: false,
                  animation: google.maps.Animation.DROP,
                 });
                }
  
        });
        
      }, function() {
            handleNoGeolocation(true);
          });
        
      } else { handleNoGeolocation(false); /* Browser doesn't support Geolocation */  }
    }
  
  
  function handleNoGeolocation(errorFlag) {
    if (errorFlag) {
      var content = 'Error: The Geolocation service failed.';
    } else {
      var content = 'Error: Your browser doesn\'t support geolocation.';
    }
  
    var options = {
      map: map,
      zoom: 8,
      position: new google.maps.LatLng(51.508742, -0.087891),
      content: content
    };
    var infowindow = new google.maps.InfoWindow(options);
    map.setCenter(options.position);
  }
  
  google.maps.event.addDomListener(window, 'load', initialize);

/[if lt IE 7]
  <script src='//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js'></script>
  <script>
  window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})});
  </script>